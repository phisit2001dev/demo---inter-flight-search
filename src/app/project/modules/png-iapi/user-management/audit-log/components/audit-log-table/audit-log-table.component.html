<mat-card class="mt-3" [ngClass]="{'d-none': !dataSource?.totalResult }">
    <div class="row">
        <div class="d-flex justify-content-between flex-column flex-lg-row">
            <div class="d-flex align-items-center">
                <span class="table_title_search">{{ "table_title_search" | translate: { value: dataSource?.totalResult|number } }}</span>
            </div>
            <div class="d-flex align-items-center">
                <span class="me-3">{{ "gotoPage" | translate}}</span>
                <mat-form-field [appearance]="'outline'">
                    <input matInput [value]="displayPageIndex" inputPaginator (valueChange)="pageChange($event)" />
                </mat-form-field>
                <mat-paginator #paginatorHearder (page)="pageChange($event)" [pageSize]="pageSize" [length]="dataLength"
                    [pageIndex]="pageIndex">
                </mat-paginator>
            </div>
        </div>
    </div>

<div class="overflow-auto">
<table mat-table [dataSource]="dataSource?.listResult" class="mat-elevation-z sit-table w-100" style="min-width: 1000px;"
matSort
(matSortChange)="sortChange.emit($event)"
[matSortActive]="headerSorts | initMatsort: 'columnName'"
[matSortDirection]="headerSorts | initMatsort: 'order'">
>
<ng-container matColumnDef="no">
    <th mat-header-cell *matHeaderCellDef class="col-no text-center">{{ 'order_no' | translate }}</th>
    <td mat-cell *matCellDef="let element; let index = index" class="col-no text-center">
      {{ index | generateRowNo : pageSize : pageIndex }}
    </td>
  </ng-container>

  <ng-container matColumnDef="view">
    <th mat-header-cell *matHeaderCellDef class="col-icon text-center"> {{ 'view' | translate }} </th>
    <td mat-cell *matCellDef="let element" class="col-icon text-center">
      <app-sit-button-icon
        [type]="'VIEW'"
        [tooltip]="'view' | translate"
        [permission]="this.permission.view"
        (btnClick)="openDialog(element.hiddenToken)"
      ></app-sit-button-icon>
    </td>
  </ng-container>
  <ng-container matColumnDef="eventDatetime">
    <th mat-header-cell *matHeaderCellDef class="text-center" mat-sort-header="0">{{ 'sec.event_datetime' | translate }} ({{timezone}})</th>
    <td mat-cell *matCellDef="let element" class="text-center"> {{element.eventDatetime}} </td>
  </ng-container>

  <ng-container matColumnDef="system">
    <th mat-header-cell *matHeaderCellDef class="text-left" mat-sort-header="1">{{ 'sec.system' | translate }}</th>
    <td mat-cell *matCellDef="let element" class="text-left"> {{element.system}} </td>
  </ng-container>

  <ng-container matColumnDef="function">
    <th mat-header-cell *matHeaderCellDef class="text-left" mat-sort-header="2" >{{ 'sec.function' | translate }}</th>
    <td mat-cell *matCellDef="let element" class="text-left"> {{element.function}} </td>
  </ng-container>

  <ng-container matColumnDef="username">
    <th mat-header-cell *matHeaderCellDef class="text-left" mat-sort-header="3">
      {{ 'sec.username' | translate }}
    </th>
    <td mat-cell *matCellDef="let element" class="text-left">
      <a class="custom-link" (click)="goToUser(element)">
        {{ element.username }}
      </a>
    </td>
  </ng-container>

  <ng-container matColumnDef="fullname">
    <th mat-header-cell *matHeaderCellDef class="text-left" mat-sort-header="4">{{ 'sec.fullname' | translate }}</th>
    <td mat-cell *matCellDef="let element" class="text-left"> {{element.fullname}} </td>
  </ng-container>

  <ng-container matColumnDef="employeeCode">
    <th mat-header-cell *matHeaderCellDef class="text-left" mat-sort-header="5">{{ 'sec.employee_code' | translate }}</th>
    <td mat-cell *matCellDef="let element" class="text-left"> {{element.employeeCode}} </td>
  </ng-container>

  <ng-container matColumnDef="organization">
    <th mat-header-cell *matHeaderCellDef class="text-left" mat-sort-header="6">{{ 'sec.organization' | translate }}</th>
    <td mat-cell *matCellDef="let element" class="text-left"> {{element.organization}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

</table>
</div>
<div class="row">
  <div class="d-flex align-items-center">
    <span style="flex: 1 1 auto;"></span>
    <div class="d-flex align-items-center">
      <span class="me-3">{{ "gotoPage" | translate}}</span>

      <mat-form-field [appearance]="'outline'">
        <input
          matInput
          [value]="displayPageIndex"
          inputPaginator
          (valueChange)="pageChange($event)" />
      </mat-form-field>

      <mat-paginator #paginatorHearder
        (page)="pageChange($event)"
        [pageSize]="pageSize"
        [length]="dataLength"
        [pageIndex]="pageIndex">
      </mat-paginator>
    </div>
  </div>
</div>
</mat-card>